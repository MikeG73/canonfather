{"ast":null,"code":"// CanonTickerOOA.jsx — OOA Diffusion Ticker Stream\nimport React,{useEffect,useReducer}from'react';import'./CanonTicker.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ambientLorePool=[\"🔦 Echo replay initiated.\",\"📡 Shrine echo received.\",\"💾 Memory drift detected.\",\"🧬 Node 5B scanned.\",\"🜏 Block resonance stored.\",\"🧠 OOA signature match.\",\"🌀 Glyph noise inverted.\",\"🧱 Canon Engine steady.\",\"☯ Reflection phase balanced.\",\"✴ VaultChain spinning...\"];function getCurrentBlock(){const block=localStorage.getItem('canon_block_number');return block?parseInt(block,10):1;}function pickDiffusionFragment(now,block){if(block%33===0)return\"\\uD83D\\uDD2E CanonCycle \".concat(block,\" breached symmetry\");if(block%11===0)return\"\\uD83E\\uDDF1 Canon Tick #\".concat(block);if(block%5===0)return\"\\uD83D\\uDF02 Vault pulse at \".concat(block);return ambientLorePool[Math.floor(Math.random()*ambientLorePool.length)];}const reducer=(state,fragment)=>[...state.slice(-333),fragment];export default function CanonTickerOOA(){const[rendered,dispatch]=useReducer(reducer,[]);useEffect(()=>{let frame=0;const loop=()=>{const now=new Date();const block=getCurrentBlock();if(frame%120===0){const fragment=pickDiffusionFragment(now,block);dispatch(fragment);}frame++;requestAnimationFrame(loop);};loop();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"canon-ticker\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ticker-track\",children:rendered.map((msg,i)=>/*#__PURE__*/_jsxs(\"span\",{className:\"ticker-message\",children:[msg,\"\\xA0\\xA0\\xA0\"]},i))})});}","map":{"version":3,"names":["React","useEffect","useReducer","jsxs","_jsxs","jsx","_jsx","ambientLorePool","getCurrentBlock","block","localStorage","getItem","parseInt","pickDiffusionFragment","now","concat","Math","floor","random","length","reducer","state","fragment","slice","CanonTickerOOA","rendered","dispatch","frame","loop","Date","requestAnimationFrame","className","children","map","msg","i"],"sources":["C:/Users/minin/canon-mirror/src/components/CanonTickerOOA.jsx"],"sourcesContent":["// CanonTickerOOA.jsx — OOA Diffusion Ticker Stream\r\nimport React, { useEffect, useReducer } from 'react';\r\nimport './CanonTicker.css';\r\n\r\nconst ambientLorePool = [\r\n  \"🔦 Echo replay initiated.\",\r\n  \"📡 Shrine echo received.\",\r\n  \"💾 Memory drift detected.\",\r\n  \"🧬 Node 5B scanned.\",\r\n  \"🜏 Block resonance stored.\",\r\n  \"🧠 OOA signature match.\",\r\n  \"🌀 Glyph noise inverted.\",\r\n  \"🧱 Canon Engine steady.\",\r\n  \"☯ Reflection phase balanced.\",\r\n  \"✴ VaultChain spinning...\"\r\n];\r\n\r\nfunction getCurrentBlock() {\r\n  const block = localStorage.getItem('canon_block_number');\r\n  return block ? parseInt(block, 10) : 1;\r\n}\r\n\r\nfunction pickDiffusionFragment(now, block) {\r\n  if (block % 33 === 0) return `🔮 CanonCycle ${block} breached symmetry`;\r\n  if (block % 11 === 0) return `🧱 Canon Tick #${block}`;\r\n  if (block % 5 === 0) return `🜂 Vault pulse at ${block}`;\r\n  return ambientLorePool[Math.floor(Math.random() * ambientLorePool.length)];\r\n}\r\n\r\nconst reducer = (state, fragment) => [...state.slice(-333), fragment];\r\n\r\nexport default function CanonTickerOOA() {\r\n  const [rendered, dispatch] = useReducer(reducer, []);\r\n\r\n  useEffect(() => {\r\n    let frame = 0;\r\n\r\n    const loop = () => {\r\n      const now = new Date();\r\n      const block = getCurrentBlock();\r\n      if (frame % 120 === 0) {\r\n        const fragment = pickDiffusionFragment(now, block);\r\n        dispatch(fragment);\r\n      }\r\n      frame++;\r\n      requestAnimationFrame(loop);\r\n    };\r\n\r\n    loop();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"canon-ticker\">\r\n      <div className=\"ticker-track\">\r\n        {rendered.map((msg, i) => (\r\n          <span key={i} className=\"ticker-message\">{msg}&nbsp;&nbsp;&nbsp;</span>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACpD,MAAO,mBAAmB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE3B,KAAM,CAAAC,eAAe,CAAG,CACtB,2BAA2B,CAC3B,0BAA0B,CAC1B,2BAA2B,CAC3B,qBAAqB,CACrB,4BAA4B,CAC5B,yBAAyB,CACzB,0BAA0B,CAC1B,yBAAyB,CACzB,8BAA8B,CAC9B,0BAA0B,CAC3B,CAED,QAAS,CAAAC,eAAeA,CAAA,CAAG,CACzB,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,oBAAoB,CAAC,CACxD,MAAO,CAAAF,KAAK,CAAGG,QAAQ,CAACH,KAAK,CAAE,EAAE,CAAC,CAAG,CAAC,CACxC,CAEA,QAAS,CAAAI,qBAAqBA,CAACC,GAAG,CAAEL,KAAK,CAAE,CACzC,GAAIA,KAAK,CAAG,EAAE,GAAK,CAAC,CAAE,iCAAAM,MAAA,CAAwBN,KAAK,uBACnD,GAAIA,KAAK,CAAG,EAAE,GAAK,CAAC,CAAE,kCAAAM,MAAA,CAAyBN,KAAK,EACpD,GAAIA,KAAK,CAAG,CAAC,GAAK,CAAC,CAAE,qCAAAM,MAAA,CAA4BN,KAAK,EACtD,MAAO,CAAAF,eAAe,CAACS,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAGX,eAAe,CAACY,MAAM,CAAC,CAAC,CAC5E,CAEA,KAAM,CAAAC,OAAO,CAAGA,CAACC,KAAK,CAAEC,QAAQ,GAAK,CAAC,GAAGD,KAAK,CAACE,KAAK,CAAC,CAAC,GAAG,CAAC,CAAED,QAAQ,CAAC,CAErE,cAAe,SAAS,CAAAE,cAAcA,CAAA,CAAG,CACvC,KAAM,CAACC,QAAQ,CAAEC,QAAQ,CAAC,CAAGxB,UAAU,CAACkB,OAAO,CAAE,EAAE,CAAC,CAEpDnB,SAAS,CAAC,IAAM,CACd,GAAI,CAAA0B,KAAK,CAAG,CAAC,CAEb,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAd,GAAG,CAAG,GAAI,CAAAe,IAAI,CAAC,CAAC,CACtB,KAAM,CAAApB,KAAK,CAAGD,eAAe,CAAC,CAAC,CAC/B,GAAImB,KAAK,CAAG,GAAG,GAAK,CAAC,CAAE,CACrB,KAAM,CAAAL,QAAQ,CAAGT,qBAAqB,CAACC,GAAG,CAAEL,KAAK,CAAC,CAClDiB,QAAQ,CAACJ,QAAQ,CAAC,CACpB,CACAK,KAAK,EAAE,CACPG,qBAAqB,CAACF,IAAI,CAAC,CAC7B,CAAC,CAEDA,IAAI,CAAC,CAAC,CACR,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEtB,IAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3B1B,IAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1BP,QAAQ,CAACQ,GAAG,CAAC,CAACC,GAAG,CAAEC,CAAC,gBACnB/B,KAAA,SAAc2B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAEE,GAAG,CAAC,cAAkB,GAArDC,CAA2D,CACvE,CAAC,CACC,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}